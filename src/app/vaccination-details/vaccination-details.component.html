<div *ngIf="activeUser.isAdmin">
  <button routerLink="../.." class="ui grey button tiny">
    <i class="arrow left icon"></i>
    Zurück zur Impfterminübersicht
  </button>

  <h1>{{vaccination?.location.name}}</h1>
  <p *ngIf="vaccinationPassed; else passed">Dieser Impftermin findet bei der Adresse <b>{{vaccination?.location.address}}, {{vaccination?.location.zipcode}}
    {{vaccination?.location.city}}</b> am <b>{{vaccination?.dateOfVaccination | date:"dd.MM.yyyy"}}</b> zwischen <b>{{vaccination?.fromTime | date:"HH:mm"}} und
    {{vaccination?.toTime | date:"HH:mm"}}</b> statt.</p>

  <ng-template #passed>
    <p>Dieser Impftermin hat bereits, bei der Adresse <b>{{vaccination?.location.address}}, {{vaccination?.location.zipcode}}
    {{vaccination?.location.city}}</b>, am <b>{{vaccination?.dateOfVaccination | date:"dd.MM.yyyy"}}</b> zwischen <b>{{vaccination?.fromTime | date:"HH:mm"}} und
    {{vaccination?.toTime | date:"HH:mm"}}</b> stattgefunden.</p>
  </ng-template>

  <h2>Anmeldungen</h2>
  <table class="ui celled table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Geschlecht</th>
        <th>Sozialversicherungsnummer</th>
        <th>Impfung erhalten</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users" class="item c-user-list-item" [user]="user">
      </tr>
    </tbody>
  </table>

  <div *ngIf="!users" class="ui active dimmer">
    <div class="ui large text loader">Daten werden geladen</div>
  </div>
  <p *ngIf="users && !users.length">Es haben sich noch keine User für diesen Termin eingetragen.</p>

  <div *ngIf="vaccinationPassed">
    <h2>Termin verwalten</h2>
    <div class="ui four column grid">
      <div class="row" style="padding-bottom:0;">
        <div class="two wide column left aligned">
          <h4>Ort:</h4>
        </div>
        <div class="column">
          <div class="ui input">
            <select class="ui dropdown" [(ngModel)]="selectedLocationId" style="border-radius: 4px;">
              <option *ngFor="let location of locations" [ngValue]="location.id">{{location.name}} ({{location.address}}, {{location.zipcode}} {{location.city}})</option>
            </select>
          </div>
        </div>
      </div>
      <div class="row" style="padding-bottom:0;">
        <div class="two wide column left aligned">
          <h4>Datum:</h4>
        </div>
        <div class="column">
          <div class="ui input">
            <input type="date" placeholder="Datum" [(ngModel)]="vaccination.dateOfVaccination">
          </div>
        </div>
      </div>
      <div class="row" style="padding-bottom:0;">
        <div class="two wide column rleftight aligned">
          <h4>Von (Uhrzeit):</h4>
        </div>
        <div class="column">
          <div class="ui input">
            <input type="datetime" placeholder="Von" [(ngModel)]="vaccination.fromTime">
          </div>
        </div>
      </div>
      <div class="row" style="padding-bottom:0;">
        <div class="two wide column left aligned">
          <h4>Bis (Uhrzeit):</h4>
        </div>
        <div class="column">
          <div class="ui input">
            <input type="datetime" placeholder="Bis" [(ngModel)]="vaccination.toTime">
          </div>
        </div>
      </div>
      <div class="row" style="padding-bottom:0;">
        <div class="two wide column left aligned">
          <h4>Max. Teilnehmer:</h4>
        </div>
        <div class="column">
          <div class="ui input">
            <input type="number" placeholder="Max. Teilnehmer" [(ngModel)]="vaccination.maxParticipants">
          </div>
        </div>
      </div>
      <div class="row">
        <button class="ui blue labeled icon button" (click)="saveVaccination()">
          <i class="save icon"></i>Termindetails speichern
        </button>
        <button class="ui red labeled icon button" (click)="removeVaccination()">
            <i class="remove icon"></i>Termin löschen
        </button>
      </div>
    </div>
  </div>
</div>